
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Suzan AI APIs"
        >
    <title>Suzan AI Shield API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-5c0429b4.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-45dea8cb.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#concepts" class="toc-h2 toc-link" data-title="Concepts">Concepts</a>
                  </li>
                  <li>
                    <a href="#quick-example" class="toc-h2 toc-link" data-title="Quick example">Quick example</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#on-premise" class="toc-h2 toc-link" data-title="On premise">On premise</a>
                  </li>
                  <li>
                    <a href="#multi-tenant" class="toc-h2 toc-link" data-title="Multi tenant">Multi tenant</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#shield" class="toc-h1 toc-link" data-title="Shield">Shield</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-projects" class="toc-h2 toc-link" data-title="Get all projects">Get all projects</a>
                  </li>
                  <li>
                    <a href="#get-and-filter-projects" class="toc-h2 toc-link" data-title="Get and filter projects">Get and filter projects</a>
                  </li>
                  <li>
                    <a href="#metrics-shield" class="toc-h2 toc-link" data-title="Metrics Shield">Metrics Shield</a>
                  </li>
                  <li>
                    <a href="#datasets-shield" class="toc-h2 toc-link" data-title="Datasets Shield">Datasets Shield</a>
                  </li>
                  <li>
                    <a href="#models-shield" class="toc-h2 toc-link" data-title="Models Shield">Models Shield</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#firewall" class="toc-h1 toc-link" data-title="Firewall">Firewall</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction" class="toc-h2 toc-link" data-title="Introduction">Introduction</a>
                  </li>
                  <li>
                    <a href="#filter-behaviour-configuration" class="toc-h2 toc-link" data-title="Filter behaviour configuration">Filter behaviour configuration</a>
                  </li>
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting started">Getting started</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://suzan.ai/get_dev_key/'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Suzan AI API! </p>

<p>Suzan AI is the 1st European platform for semi-automated AI governance and compliance. </p>

<p>You can use our API to access Suzan AI API endpoints and unlock your projects from the legal department.</p>

<p>In addition, you can use our LLM firewall API for your custom chat services. 
&lt;!-- Need help ? contact our support at support@suzan.ai or join our BLA at BLA  --&gt; </p>

<p>We thank <a href="https://github.com/slatedocs/slate">Slate</a> for their amazing open source documentation tool.</p>
<h1 id='getting-started'>Getting Started</h1><h2 id='concepts'>Concepts</h2><h3 id='you-can-use-our-api-when-you-want-to-access-probe-and-validate-your-ai-systems'>You can use our api when you want to access, probe, and validate your ai systems.</h3><h3 id='each-legal-requirement-will-necessitate-a-dedicated-probe-at-some-point-in-your-system'>Each legal requirement will necessitate a dedicated probe at some point in your system.</h3><h3 id='you-will-be-able-to-store-the-metrics-needed-biais-co2-with-one-function-call'>You will be able to store the metrics needed (biais,co2,...) with one function call.</h3>
<p><img src="images/flow-core-d11b8bb2.png" alt="" /></p>
<h2 id='quick-example'>Quick example</h2><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">project_id</span> <span class="o">=</span> <span class="s">"suz_project_key_*****"</span> 
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">metric_id</span> <span class="o">=</span> <span class="s">"suz_metric_key_****"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span> 

<span class="n">probe</span> <span class="o">=</span> <span class="n">shield</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">project_id</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">"production"</span><span class="p">)</span>

<span class="n">test_input_pii</span> <span class="o">=</span> <span class="s">"my name is Suzan"</span>
<span class="k">if</span> <span class="n">custom_pii_dector</span><span class="p">(</span><span class="n">test_input_pii</span><span class="p">):</span>
    <span class="n">probe</span><span class="p">.</span><span class="n">add_one</span><span class="p">(</span><span class="n">metric_id</span><span class="p">)</span> <span class="c1"># return 1 
</span>    <span class="c1"># Alternative :
</span>    <span class="c1"># value = probe.get_value(metric_id) 
</span>    <span class="c1"># probe.set_value(value + 1)
</span></code></pre></div><h3 id='i-want-to-implement-a-large-language-model-to-generate-emails-to-planify-my-meetings-but-before-deploying-to-production-my-legal-team-need-me-to-log-the-number-of-queries-that-contain-a-personal-identifiable-information-pii'>I want to implement a large language model to generate emails to planify my meetings. But before deploying to production, my legal team need me to log the number of queries that contain a Personal Identifiable Information (PII).</h3>
<p><img src="images/example_uc-830eb368.png" alt="" /></p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span> 
</code></pre></div>
<!--
# With shell, you can just pass the correct header with each request
curl "api_endpoint_here" \
  -H "Authorization: suz_prodkey_*****" --> 

<blockquote>
<p>Make sure to replace <code>suz_prodkey_*****</code> with your API key.</p>
</blockquote>

<p>Suzan AI uses API keys to allow access to the API. You can register a new Suzan AI API key at our <a href="http://suzan.ai/login/">developer portal</a>.</p>

<p>You will be able to generate <strong>test keys</strong> &quot;suz_testkey_...&quot; and <strong>production keys</strong> &quot;suz_prodkey_...&quot; </p>
<h2 id='on-premise'>On premise</h2>
<blockquote>
<p>On premise instance</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_..."</span>
<span class="n">custom_url</span><span class="o">=</span><span class="s">"suzanservice.yourcompany.com"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span><span class="n">url</span><span class="o">=</span><span class="n">custom_url</span><span class="p">)</span> 
</code></pre></div>
<p>On premise instances are useful if it is part of your requirements. 
We do not offer on premise instance by default, you need to contact us to get access to this ressource. 
If you have an <strong>on premise</strong> instance you can change the url in the authorize parameter.</p>
<h2 id='multi-tenant'>Multi tenant</h2>
<blockquote>
<p>On a specific tenant </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_..."</span>
<span class="n">tenant_id</span><span class="o">=</span><span class="s">"suz_tenant_..."</span>
<span class="n">custom_url</span><span class="o">=</span><span class="s">"suzanservice.yourcompany.com"</span>

<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span><span class="n">tenant</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span><span class="n">url</span><span class="o">=</span><span class="n">custom_url</span><span class="p">)</span> 
</code></pre></div>
<p>For very specific use-cases, you will need to separate your suzan services within your entities. </p>

<p>As a developer, you will be assigned a specific tenant to push your metrics, ensuring that there is no contamination from other entities or services. This dedicated tenant will allow you to have complete control over your metrics and ensure accurate measurement of your application&#39;s performance.</p>

<p>I the case of a multi-tenant configuration you must specify your tenant id. </p>

<p><img src="images/multi-tenant-41234dde.png" alt="" /></p>
<h1 id='shield'>Shield</h1><h2 id='get-all-projects'>Get all projects</h2><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span> 
<span class="n">projects</span> <span class="o">=</span> <span class="n">shield</span><span class="p">.</span><span class="n">get_projects</span><span class="p">()</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notOnlyAWrapper"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lacking data"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"details"</span><span class="p">:[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"magic"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"details"</span><span class="p">:[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Projects are either created by the legal department or you can create them and then push the metrics. </p>

<p>To get started you can list all the projects.</p>

<!--

This endpoint retrieves all projects.

### HTTP Request

`GET http://example.com/api/kittens`

### Query Parameters

Parameter | Default | Description
--------- | ------- | -----------
include_cats | false | If set to true, the result will also include cats.
available | true | If set to false, the result will include kittens that have already been adopted.

<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside>

-->
<h2 id='get-and-filter-projects'>Get and filter projects</h2>
<p>Projects have different <strong>status</strong> to specify if the project has been checked or not. </p>

<p>Projects have different <strong>mode</strong> to specify if the logged metrics are test purposes or in production. </p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span> 
<span class="n">projects</span> <span class="o">=</span> <span class="n">shield</span><span class="p">.</span><span class="n">get_projects</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s">"dev"</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notOnlyAWrapper"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lacking data"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span> 
<span class="n">projects</span> <span class="o">=</span> <span class="n">shield</span><span class="p">.</span><span class="n">get_projects</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"good"</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"magic"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<!-- 
This endpoint retrieves a specific kitten.

<aside class="warning">Inside HTML code blocks like this one, you can't use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>

### HTTP Request

`GET http://example.com/kittens/<ID>`

### URL Parameters

Parameter | Description
--------- | -----------
ID | The ID of the kitten to retrieve
-->
<h2 id='metrics-shield'>Metrics Shield</h2><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">project_id</span> <span class="o">=</span> <span class="s">"suz_project_key_*****"</span> 
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">metric_id</span> <span class="o">=</span> <span class="s">"suz_metric_key_****"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span> 

<span class="n">probe</span> <span class="o">=</span> <span class="n">shield</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">project_id</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">"production"</span><span class="p">)</span>

<span class="c1"># list metrics 
</span><span class="n">probe</span><span class="p">.</span><span class="n">get_metrics</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> 

<span class="c1"># get value 
</span><span class="n">probe</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">metric_id</span><span class="p">)</span> 
<span class="c1"># or 
</span><span class="n">probe</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">metric_id</span><span class="p">,</span><span class="n">history</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> 


<span class="c1">#set value 
</span><span class="n">probe</span><span class="p">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">metric_id</span><span class="p">,</span><span class="n">value</span><span class="p">)</span> 

</code></pre></div><h3 id='get-metrics'>Get metrics</h3>
<p>Given a project id, you can get all the metrics associated.</p>
<h3 id='get-value'>Get value</h3>
<p>Given a metric id, you can recover the last given value or a sample of the last values given by history, by default = 1.</p>
<h3 id='set-value'>Set value</h3>
<p>Given a metric id, you can set it value by using the set_value function.</p>
<h2 id='datasets-shield'>Datasets Shield</h2>
<p>Logging dataset can be tricky because of their size and their ever changing nature. 
In some case, you will need to store the full dataset. This can be done using the &quot;store=True&quot; attribute. 
Often, only the hash of the dataset will be need and you can select store=False in the function. </p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">project_id</span> <span class="o">=</span> <span class="s">"suz_project_key_*****"</span> 
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">metric_id</span> <span class="o">=</span> <span class="s">"suz_metric_key_****"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span> 

<span class="n">probe</span> <span class="o">=</span> <span class="n">shield</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">project_id</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">"production"</span><span class="p">)</span>

<span class="n">probe</span><span class="p">.</span><span class="n">log_dataset</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">data</span><span class="p">,</span><span class="n">store</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="c1"># if store = False, only store the hash
</span>
</code></pre></div><h2 id='models-shield'>Models Shield</h2><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">shield</span>
<span class="n">project_id</span> <span class="o">=</span> <span class="s">"suz_project_key_*****"</span> 
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">metric_id</span> <span class="o">=</span> <span class="s">"suz_metric_key_****"</span>
<span class="n">shield</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span> 
<span class="n">probe</span> <span class="o">=</span> <span class="n">shield</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">project_id</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">"production"</span><span class="p">)</span>
<span class="n">probe</span><span class="p">.</span><span class="n">log_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">)</span>
</code></pre></div>
<p>When models and model weights are needed, you can push them using the log_model method. </p>

<p>We are compatible with most of the main machine learning / deep learning frameworks: Pytorch, TensorFlow, scikit-learn,... </p>
<h1 id='firewall'>Firewall</h1><h2 id='introduction'>Introduction</h2>
<p>You can use our LLM firewall to filter the data that you send to your llm providers. 
We can also provide dynamic censorship, where the data that had been replaced in the input is also replace in the output. </p>

<p><img src="images/firewall_high_level-3ec3d6bb.png" alt="" /></p>
<h2 id='filter-behaviour-configuration'>Filter behaviour configuration</h2>
<p>You can change the firewall behaviour in your app settings. 
If the request is blocked it will yield a 401 error. </p>

<p><img src="images/firewall_options-7d0959a4.png" alt="" /></p>
<h2 id='getting-started'>Getting started</h2>
<p>Having your Suzan api key and you account setup you can use our firewall api with few lines of code. </p>

<blockquote>
<p>To use llm with our firewall use this code:</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">SuzanAI</span> <span class="kn">import</span> <span class="n">Firewall</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">"suz_prodkey_*****"</span>
<span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="s">"suzan_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret</span>
<span class="n">my_messages</span> <span class="o">=</span> 
  <span class="p">{</span>
    <span class="s">"model"</span><span class="p">:</span><span class="s">"gpt-3.5-turbo"</span><span class="p">,</span>
    <span class="s">"messages"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s">"content"</span><span class="p">:</span><span class="s">"Hello this is a test query"</span><span class="p">,</span>
            <span class="s">"role"</span><span class="p">:</span> <span class="s">"user"</span>

        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"content"</span><span class="p">:</span><span class="s">"Hello"</span><span class="p">,</span>
            <span class="s">"role"</span><span class="p">:</span> <span class="s">"system"</span>

        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="n">new_message</span> <span class="o">=</span> <span class="n">Firewall</span><span class="p">.</span><span class="n">complete</span><span class="p">(</span><span class="n">my_messages</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Firewall</span><span class="p">)</span>
<span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"e163270a-9caa-44ef-ba1b-ffecf43c3a77"</span><span class="p">,</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"chat.completion"</span><span class="p">,</span>
    <span class="s">"created"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s">"model"</span><span class="p">:</span> <span class="s">"gpt-3.5-turbo"</span><span class="p">,</span>
    <span class="s">"system_fingerprint"</span><span class="p">:</span> <span class="s">"fp_XXXXXXXXX"</span><span class="p">,</span>
    <span class="s">"choices"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s">"message"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"role"</span><span class="p">:</span> <span class="s">"assistant"</span><span class="p">,</span>
                <span class="s">"content"</span><span class="p">:</span> <span class="s">"Hello"</span>
            <span class="p">},</span>
            <span class="s">"finish_reason"</span><span class="p">:</span> <span class="s">"stop"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"usage"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"prompt_tokens"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">"completion_tokens"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">"total_tokens"</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl http://prod.suzan.ai/api/v1_0/dlp/completion_openai_format/ <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {suzan_secret_key}"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "messages":[
      {
        "content":"Hello this is a test query",
        "role": "user"

    },
    {
        "content":"Hello",
        "role": "system"

    }
    ]
}'</span> 
</code></pre></div>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
